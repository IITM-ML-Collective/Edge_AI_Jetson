schema: '2.0'
stages:
  train_v2:
    cmd: python train_with_mlflow.py --params params_v2.yaml
    deps:
    - path: train_with_mlflow.py
      hash: md5
      md5: 06a9964ab8f4e7e00b957d18fc94c13a
      size: 2885
    - path: vehicle_data_v2
      hash: md5
      md5: c22a86d7c4234aec7c1eabb870265784.dir
      size: 44217965
      nfiles: 2110
    outs:
    - path: vehicle_detection/exp_v2
      hash: md5
      md5: 4fcb1a2356316fc4bfd3243e397b5d65.dir
      size: 36777824
      nfiles: 23
  train_v3:
    cmd: python train_with_mlflow.py --params params_v3.yaml
    deps:
    - path: train_with_mlflow.py
      hash: md5
      md5: f39b155c3ab38ee16ef559f803fb5944
      size: 2885
    - path: vehicle_data_v3
      hash: md5
      md5: bcfde996b171a1e11183c333f1099de3.dir
      size: 44250627
      nfiles: 2106
    outs:
    - path: vehicle_detection/exp_v3
      hash: md5
      md5: 75893294222db328c5e1e70e83aa914a.dir
      size: 36668416
      nfiles: 23
  monitor:
    cmd: python monitor/monitor_drift.py
    deps:
    - path: feedback/
      hash: md5
      md5: b7e3a915db745bd3cbacad500ed883f4.dir
      size: 69874
      nfiles: 6
    - path: monitor/monitor_drift.py
      hash: md5
      md5: afac544c503b6a80b0315513337120de
      size: 1140
    outs:
    - path: monitor/drift_report.json
      hash: md5
      md5: dad521b514ea9264facfb391092f5687
      size: 77
  retrain:
    cmd: bash scripts/retrain.sh
    deps:
    - path: data/vehicle_data_v1
      hash: md5
      md5: 7078e279e95813676ecfb657ca06c360.dir
      size: 36307400
      nfiles: 2271
    - path: feedback/
      hash: md5
      md5: b7e3a915db745bd3cbacad500ed883f4.dir
      size: 69874
      nfiles: 6
    - path: scripts/retrain.sh
      hash: md5
      md5: 397339782031792bc65b4597249be50c
      size: 344
    outs:
    - path: ./app/core/models/vehicle_detection/exp_v4
      hash: md5
      md5: b477ddac73a86adec7502135f5877d1c.dir
      size: 37716925
      nfiles: 23
